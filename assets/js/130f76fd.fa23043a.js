"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[627],{3044:(e,t,n)=>{n.r(t),n.d(t,{HEIGHT:()=>x,WIDTH:()=>f,assets:()=>m,contentTitle:()=>u,default:()=>v,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var i=n(7462),a=n(7294),l=n(3905),s=n(6456),o=n(9594);function r(){return a.createElement(o.p,{name:"Simple [0, 0] -> [1, 1]",width:300,height:200,range:[0,1],spline:new s.Pi.MultiPoint({compute:e=>e}).addPoint(0,0).addPoint(1,1)})}function p(){return a.createElement(o.p,{name:"Nested with different mapper",width:300,height:200,range:[0,1],spline:new s.Pi.MultiPoint({compute:e=>e}).addPoint(0,0).addPoint(.4,new s.Pi.MultiPoint({compute:e=>2*e-e*e}).addPoint(.2,-1).addPoint(1,1))})}const d={title:"Splines"},u=void 0,c={unversionedId:"splines",id:"splines",title:"Splines",description:"Simple",source:"@site/examples/splines.mdx",sourceDirName:".",slug:"/splines",permalink:"/deepslate/examples/splines",draft:!1,tags:[],version:"current",frontMatter:{title:"Splines"},sidebar:"defaultSidebar",previous:{title:"Noise",permalink:"/deepslate/examples/noise"},next:{title:"Structure Renderer",permalink:"/deepslate/examples/structurerenderer"}},m={},h=[{value:"Simple",id:"simple",level:2},{value:"Nested",id:"nested",level:2}],f=300,x=200,g={toc:h,WIDTH:f};function v(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,i.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"simple"},"Simple"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"const spline = new CubicSpline.MultiPoint<number>({ compute: x => x })\n    .addPoint(0, 0)\n    .addPoint(1, 1)\n\nconst value = spline.compute(0.4)\n")),(0,l.kt)(r,{mdxType:"SimpleExample"}),(0,l.kt)("h2",{id:"nested"},"Nested"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"const spline = new CubicSpline.MultiPoint({ compute: x => x })\n    .addPoint(0, 0)\n    .addPoint(0.4, new CubicSpline.MultiPoint({ compute: x => 2 * x - x * x })\n        .addPoint(0.2, -1)\n        .addPoint(1, 1))\n\nconst value = spline.compute(0.4)\n")),(0,l.kt)(p,{mdxType:"NestedExample"}))}v.isMDXComponent=!0},9594:(e,t,n)=>{n.d(t,{Z:()=>a,p:()=>l});var i=n(7294);function a(e){let{name:t,width:n,height:a,scale:l,fetcher:s,initializer:o,column:r,sampler:p,colorizer:d}=e;a=a??n;const u=(0,i.useRef)(),[c,m]=(0,i.useState)(void 0);return(0,i.useEffect)((()=>{Promise.resolve(null==s?void 0:s()).then((e=>{const t=null==o?void 0:o(e),i=performance.now(),l=p(t),s=u.current.getContext("2d"),c=s.createImageData(n,a);requestAnimationFrame((()=>{for(let e=0;e<n;e+=1){null==r||r(t,e);for(let t=0;t<a;t+=1){const n=4*e+4*t*c.width,i=l(e,t),a=d(i),[s,o,r]="number"==typeof a?[a,a,a]:a;c.data[n]=s,c.data[n+1]=o,c.data[n+2]=r,c.data[n+3]=255}}s.putImageData(c,0,0),m(performance.now()-i)}))}))}),[]),i.createElement("div",{className:"plot pixelated"},i.createElement("span",null,t," (",c?`${c.toFixed(0)}ms`:"loading",")"),i.createElement("canvas",{ref:u,width:n,height:a,style:l?{width:n*l+"px",height:a*l+"px"}:void 0}))}function l(e){let{name:t,width:n,height:a,scale:l,range:s,spline:o}=e;a=a??n;const[r,p]=s,d=(0,i.useRef)();return(0,i.useEffect)((()=>{const e=d.current.getContext("2d"),t="function"==typeof o?o:e=>o.compute(e),i=[];for(let a=r;a<p;a+=(p-r)/n)i.push(t(a));const l=Math.min(0,...i),s=Math.max(0,...i),u=(20-a)/(s-l),c=e=>a-10+u*(e-l);e.strokeStyle="#555",e.beginPath(),e.moveTo(0,c(0)),e.lineTo(n,c(0)),e.stroke(),e.strokeStyle="white",e.beginPath(),e.moveTo(0,c(i[0]));for(let n=1;n<i.length;n+=1)e.lineTo(n,c(i[n]));e.stroke()}),[]),i.createElement("div",{className:"plot"},i.createElement("span",null,t),i.createElement("canvas",{ref:d,width:n,height:a??n,style:l?{width:n*l+"px",height:(a??n)*l+"px"}:void 0}))}}}]);